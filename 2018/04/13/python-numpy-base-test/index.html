<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="将NumPy导入，命名为别名np，并查看其版本 答案：  12import numpy as npprint np.__version__  如何创建1维数组？(创建数字从0到9的1维数组。) 期望输出：  1#&amp;gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])  答案：  1np.array(range(0,10))  如何创建boolean数组？创建所有元素">
<meta property="og:type" content="article">
<meta property="og:title" content="Python NumPy笔试测试70题">
<meta property="og:url" content="http://whitelok.github.io/2018/04/13/python-numpy-base-test/index.html">
<meta property="og:site_name" content="Karl Luo Page">
<meta property="og:description" content="将NumPy导入，命名为别名np，并查看其版本 答案：  12import numpy as npprint np.__version__  如何创建1维数组？(创建数字从0到9的1维数组。) 期望输出：  1#&amp;gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])  答案：  1np.array(range(0,10))  如何创建boolean数组？创建所有元素">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-04-24T05:36:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python NumPy笔试测试70题">
<meta name="twitter:description" content="将NumPy导入，命名为别名np，并查看其版本 答案：  12import numpy as npprint np.__version__  如何创建1维数组？(创建数字从0到9的1维数组。) 期望输出：  1#&amp;gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])  答案：  1np.array(range(0,10))  如何创建boolean数组？创建所有元素">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Python NumPy笔试测试70题</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/posts/">Writing</a></li>
         
          <li><a href="http://github.com/sergodeeva">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/05/14/tensorflow-bloated-graph-issue/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/09/08/2017-sep-targets/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://whitelok.github.io/2018/04/13/python-numpy-base-test/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&text=Python NumPy笔试测试70题"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&is_video=false&description=Python NumPy笔试测试70题"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Python NumPy笔试测试70题&body=Check out this article: http://whitelok.github.io/2018/04/13/python-numpy-base-test/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&name=Python NumPy笔试测试70题&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Python NumPy笔试测试70题
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Karl Luo Page</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-04-13T10:51:28.000Z" itemprop="datePublished">2018-04-13</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <ol>
<li><p>将NumPy导入，命名为别名np，并查看其版本<br> 答案：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">print</span> np.__version__</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何创建1维数组？(创建数字从0到9的1维数组。)<br> 期望输出：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></span><br></pre></td></tr></table></figure>
<p> 答案：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array(range(<span class="number">0</span>,<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何创建boolean数组？创建所有元素均为True的3×3 NumPy数组。<br> 答案：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.full((<span class="number">3</span>,<span class="number">3</span>), <span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何从1维数组中提取满足给定条件的项？（从 arr 中提取所有奇数元素。）<br> 输入：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<p> 期望输出：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([1, 3, 5, 7, 9])</span></span><br></pre></td></tr></table></figure>
<p> 答案：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.where(arr % <span class="number">2</span> == <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何将 NumPy 数组中满足给定条件的项替换成另一个数值？<br> 输入：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<p> 期望输出：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([ 0, -1, 2, -1, 4, -1, 6, -1, 8, -1])</span></span><br></pre></td></tr></table></figure>
<p> 答案：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[arr % <span class="number">2</span> == <span class="number">1</span>] = <span class="number">-1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在不影响原始数组的前提下替换满足给定条件的项？<br> 输入：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line">期望输出：</span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#&gt; array([ 0, -1, 2, -1, 4, -1, 6, -1, 8, -1])</span></span><br></pre></td></tr></table></figure>
<p> 答案：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">out = arr.copy()</span><br><span class="line">out[out % <span class="number">2</span> == <span class="number">1</span>] = <span class="number">-1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如何重塑（reshape）数组？(将1维数组转换成2维数组（两行）)<br> 输入：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p> 期望输出：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]])</span></span><br></pre></td></tr></table></figure>
<p> 答案：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.reshape(arr, (<span class="number">2</span>,<span class="number">-1</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何垂直堆叠两个数组？(垂直堆叠数组a和b)<br> 输入：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br><span class="line">b = np.repeat(<span class="number">1</span>, <span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<p> 期望输出：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([[0, 1, 2, 3, 4],</span></span><br><span class="line"><span class="comment">#&gt; [5, 6, 7, 8, 9],</span></span><br><span class="line"><span class="comment">#&gt; [1, 1, 1, 1, 1],</span></span><br><span class="line"><span class="comment">#&gt; [1, 1, 1, 1, 1]])</span></span><br></pre></td></tr></table></figure>
<p> 答案：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.concatenate((a, b))</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何水平堆叠两个数组？<br> 输入：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br><span class="line">b = np.repeat(<span class="number">1</span>, <span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<p> 期望输出：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([[0, 1, 2, 3, 4, 1, 1, 1, 1, 1],</span></span><br><span class="line"><span class="comment">#&gt; [5, 6, 7, 8, 9, 1, 1, 1, 1, 1]])</span></span><br></pre></td></tr></table></figure>
<p> 答案：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.concatenate((a, b), axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在不使用硬编码的前提下，如何在 NumPy中生成自定义序列？(在不使用硬编码的前提下创建以下模式。仅使用NumPy函数和以下输入数组 a)<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([1, 1, 1, 2, 2, 2, 3, 3, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.concatenate((a.repeat(<span class="number">3</span>), np.tile(a,<span class="number">3</span>)))</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何获得两个 Python NumPy 数组中共同的项？(获取数组 a 和 b 中的共同项。)<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">b = np.array([<span class="number">7</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>])</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([2, 4])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.unique(a[a==b])</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何从一个数组中移除与另一个数组重复的项？<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([1,2,3,4])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([x <span class="keyword">for</span> x <span class="keyword">in</span> a <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> b])</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何获取两个数组匹配元素的位置？<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">b = np.array([<span class="number">7</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>])</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; (array([1, 3, 5, 7]),)</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.where(a==b)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何从NumPy数组中提取给定范围内的所有数字？(从数组a中提取5和10之间的所有项）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">15</span>)</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(array([ 5, 6, 7, 8, 9, 10]),)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([i <span class="keyword">for</span> i <span class="keyword">in</span> a <span class="keyword">if</span> i &gt;= <span class="number">5</span> <span class="keyword">and</span> i&lt;=<span class="number">10</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何创建一个Python函数以对NumPy数组执行元素级的操作？（转换函数maxx，使其从只能对比标量而变为对比两个数组。）<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxx</span><span class="params">(x, y)</span>:</span></span><br><span class="line">   <span class="keyword">if</span> x &gt;= y:</span><br><span class="line">     <span class="keyword">return</span> x</span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">     <span class="keyword">return</span> y</span><br><span class="line">maxx(<span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment">#&gt; 5</span></span><br><span class="line">a = np.array([<span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">1</span>])</span><br><span class="line">pair_max(a, b)</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([ 6., 7., 9., 8., 9., 7., 5.])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pair_max = np.frompyfunc(maxx,<span class="number">2</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在2d NumPy数组中交换两个列？（在数组arr中交换列1和列2）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[:,[<span class="number">0</span>,<span class="number">1</span>]] = arr[:,[<span class="number">1</span>,<span class="number">0</span>]]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在2d NumPy数组中交换两个行？（在数组arr中交换行1和行2）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[[<span class="number">0</span>,<span class="number">1</span>], :] = arr[[<span class="number">1</span>,<span class="number">0</span>], :]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何反转2D数组的所有行？（反转2D数组arr中的所有行）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[:,:] = arr[: :<span class="number">-1</span>,:]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何反转2D数组的所有列？（反转2D数组arr中的所有列）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[:,:] = arr[:,: :<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何创建一个包含5和10之间随机浮点的2维数组？（创建一个形态为5×3的2维数组，包含5和10之间的随机十进制小数）。<br>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.uniform(<span class="number">5</span>, <span class="number">10</span>, size=(<span class="number">5</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在Python NumPy数组中仅输出小数点后三位的数字？（输出或显示NumPy数组rand_arr中小数点后三位的数字）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rand_arr = np.random.random((<span class="number">5</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.uniform(<span class="number">5</span>,<span class="number">10</span>,(<span class="number">5</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何通过禁用科学计数法（如1e10）打印 NumPy 数组？（通过禁用科学计数法（如 1e10）打印NumPy数组 rand_arr）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create the random array</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">rand_arr = np.random.random([<span class="number">3</span>,<span class="number">3</span>])/<span class="number">1e3</span></span><br><span class="line">rand_arr</span><br><span class="line"><span class="comment">#&gt; array([[ 5.434049e-04, 2.783694e-04, 4.245176e-04],</span></span><br><span class="line"><span class="comment">#&gt; [ 8.447761e-04, 4.718856e-06, 1.215691e-04],</span></span><br><span class="line"><span class="comment">#&gt; [ 6.707491e-04, 8.258528e-04, 1.367066e-04]])</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([[ 0.000543, 0.000278, 0.000425],</span></span><br><span class="line"><span class="comment">#&gt; [ 0.000845, 0.000005, 0.000122],</span></span><br><span class="line"><span class="comment">#&gt; [ 0.000671, 0.000826, 0.000137]])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(suppress=<span class="keyword">True</span>)</span><br><span class="line">np.around(rand_arr, decimals=<span class="number">6</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何限制NumPy数组输出中项的数目？（将Python NumPy数组a输出的项的数目限制在最多6个元素）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">15</span>)</span><br><span class="line"><span class="comment">#&gt; array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([ 0, 1, 2, ..., 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(threshold=<span class="number">6</span>)</span><br><span class="line"><span class="keyword">print</span> a</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在不截断数组的前提下打印出完整的NumPy数组？（在不截断数组的前提下打印出完整的NumPy数组a）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(threshold=<span class="number">6</span>)</span><br><span class="line">a = np.arange(<span class="number">15</span>)</span><br><span class="line">a</span><br><span class="line"><span class="comment">#&gt; array([ 0, 1, 2, ..., 12, 13, 14])</span></span><br><span class="line">期望输出：</span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#&gt; array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(threshold=<span class="string">'nan'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何向Python NumPy导入包含数字和文本的数据集，同时保持文本不变？（导入iris数据集，保持文本不变）。<br>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.genfromtxt(<span class="string">'iris.data'</span>, delimiter=<span class="string">','</span>, dtype=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何从1维元组数组中提取特定的列？(从前一个问题导入的1维iris中提取文本列species)。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris_1d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([list(i) <span class="keyword">for</span> i <span class="keyword">in</span> iris_1d])[:, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何将1维元组数组转换成2维NumPy数组？(忽略species文本字段，将1维iris转换成2维数组iris_2d)。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris_1d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([list(i) <span class="keyword">for</span> i <span class="keyword">in</span> iris_1d])[:, <span class="number">0</span>:<span class="number">4</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何计算NumPy数组的平均值、中位数和标准差？（找出iris sepallength（第一列）的平均值、中位数和标准差）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.mean(iris[:, <span class="number">0</span>:<span class="number">4</span>].astype(float)[:, <span class="number">0</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何归一化数组，使值的范围在 0 和 1 之间？（创建 iris sepallength 的归一化格式，使其值在 0 到 1 之间。）<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">normalize_func</span><span class="params">(minVal, maxVal, newMinValue=<span class="number">0</span>, newMaxValue=<span class="number">1</span> )</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">normalizeFunc</span><span class="params">(x)</span>:</span></span><br><span class="line">        r=(x-minVal) * newMaxValue / (maxVal-minVal) + newMinValue</span><br><span class="line">        <span class="keyword">return</span> r</span><br><span class="line">    <span class="keyword">return</span> np.frompyfunc(normalizeFunc, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">normalize_func(np.amin(sepallength), np.amax(sepallength), <span class="number">0</span>, <span class="number">1</span>)(sepallength)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何计算softmax分数？（计算sepallength的softmax分数）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.exp(sepallength - np.max(sepallength)) / np.exp(sepallength - np.max(sepallength)).sum(axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何找到NumPy数组的百分数？（找出iris sepallength（第一列）的第5个和第95个百分数）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.percentile(sepallength, <span class="number">5</span>, axis=<span class="number">0</span>)</span><br><span class="line">np.percentile(sepallength, <span class="number">95</span>, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在数组的随机位置插入值？（在iris_2d数据集中的20个随机位置插入np.nan值）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.insert(iris_2d, np.random.randint(<span class="number">0</span>, iris_2d.shape[<span class="number">0</span>], <span class="number">20</span>, dtype=<span class="string">'int'</span>), values=np.nan, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在NumPy数组中找出缺失值的位置？（在iris_2d的sepallength（第一列）中找出缺失值的数目和位置）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>)</span><br><span class="line">iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = np.isnan(iris_2d[:, <span class="number">0</span>])</span><br><span class="line">b = np.full_like(iris_2d[:, <span class="number">0</span>], <span class="keyword">True</span>).astype(np.bool)</span><br><span class="line">np.sum(a)</span><br><span class="line">np.where(a==b)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何基于两个或以上条件过滤NumPy数组？（过滤iris_2d中满足petallength（第三列）&gt; 1.5和sepallength（第一列）&lt; 5.0的行）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iris_2d[(iris_2d[:, <span class="number">2</span>] &gt; <span class="number">1.5</span>) ^ (iris_2d[:, <span class="number">0</span>] &lt; <span class="number">5.0</span>)]</span><br><span class="line">或者</span><br><span class="line">iris_2d[np.bitwise_xor(iris_2d[:, <span class="number">2</span>] &gt; <span class="number">1.5</span>, iris_2d[:, <span class="number">0</span>] &lt; <span class="number">5.0</span>)]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在NumPy数组中删除包含缺失值的行？（选择iris_2d中不包含nan值的行）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">np.insert(iris_2d, np.random.randint(<span class="number">0</span>, iris_2d.shape[<span class="number">0</span>], <span class="number">20</span>, dtype=<span class="string">'int'</span>), values=np.nan, axis=<span class="number">0</span>)</span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris_2d[np.sum(np.isnan(iris_2d), axis = <span class="number">1</span>) == <span class="number">0</span>][:<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何找出NumPy数组中两列之间的关联性？（找出iris_2d中SepalLength（第一列）和PetalLength（第三列之间的关联性）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.corrcoef(iris_2d[:, <span class="number">0</span>], iris_2d[:, <span class="number">2</span>])[<span class="number">0</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何确定给定数组是否有空值？（确定iris_2d是否有缺失值）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.isnan(iris_2d).any()</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在NumPy数组中将所有缺失值替换成0？（在NumPy数组中将所有nan替换成0）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris_2d[np.isnan(iris_2d[:, <span class="number">0</span>]) | np.isnan(iris_2d[:, <span class="number">1</span>]) | np.isnan(iris_2d[:, <span class="number">2</span>]) | np.isnan(iris_2d[:, <span class="number">3</span>])]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在NumPy数组中找出唯一值的数量？（在iris的species列中找出唯一值及其数量）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.unique(iris.astype(np.str)[:, <span class="number">4</span>])</span><br><span class="line">np.sum(iris.astype(np.str)[:, <span class="number">4</span>] == a[<span class="number">0</span>])</span><br><span class="line">np.sum(iris.astype(np.str)[:, <span class="number">4</span>] == a[<span class="number">1</span>])</span><br><span class="line">np.sum(iris.astype(np.str)[:, <span class="number">4</span>] == a[<span class="number">2</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何将一个数值转换为一个类别（文本）数组？将iris_2d的petallength（第三列）转换以构建一个文本数组，按如下规则进行转换：少于3赋值为’small’，3-5赋值为’medium’，大于5赋值为’large’。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new_iris = np.full_like(iris[:, <span class="number">2</span>], <span class="string">'medium'</span>)</span><br><span class="line">new_iris[iris[:,<span class="number">2</span>].astype(np.float) &lt; <span class="number">3</span>] = <span class="string">'small'</span></span><br><span class="line">new_iris[iris[:,<span class="number">2</span>].astype(np.float) &gt;= <span class="number">5</span>] = <span class="string">'large'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如何基于NumPy数组现有列创建一个新的列？为iris_2d中的volume列创建一个新的列，volume指(pi <em> petallength </em> sepal_length ^ 2) / 3。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pi = <span class="number">3.1415926</span></span><br><span class="line">raw_iris = iris[:, <span class="number">0</span>:<span class="number">4</span>].astype(np.float)</span><br><span class="line">new_iris = (raw_iris[:, <span class="number">2</span>] * pi * raw_iris[:, <span class="number">0</span>] ** <span class="number">2</span>) / <span class="number">3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在NumPy中执行概率采样？（随机采样iris数据集中的species列，使得setose的数量是versicolor和virginica数量的两倍）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.array([<span class="string">'Iris-setosa'</span>, <span class="string">'Iris-versicolor'</span>, <span class="string">'Iris-virginica'</span>])</span><br><span class="line">species_out = np.random.choice(a, <span class="number">150</span>, p=[<span class="number">0.5</span>, <span class="number">0.25</span>, <span class="number">0.25</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在多维数组中找到一维的第二最大值？（在species setosa的petallength 列中找到第二最大值）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.unique(iris[iris[:,<span class="number">4</span>] == <span class="string">"Iris-setosa"</span>][:, <span class="number">3</span>].astype(np.float))[<span class="number">-2</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何用给定列将2维数组排序？（基于sepallength列将iris数据集排序）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris[iris[:,<span class="number">0</span>].argsort()]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在 NumPy 数组中找到最频繁出现的值？（在iris数据集中找到petallength（第三列）中最频繁出现的值）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vals, counts = np.unique(iris[:, <span class="number">2</span>], return_counts=<span class="keyword">True</span>)</span><br><span class="line"><span class="keyword">print</span> vals[np.argmax(counts)]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何找到第一个大于给定值的数的位置？（在iris数据集的petalwidth（第四列）中找到第一个值大于1.0的数的位置）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.argmax(iris[:, <span class="number">3</span>].astype(<span class="string">'float'</span>) &gt; <span class="number">1.0</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何将数组中所有大于给定值的数替换为给定的cutoff值？（对于数组a，将所有大于30的值替换为30，将所有小于10的值替换为10）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.uniform(<span class="number">1</span>,<span class="number">50</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a[a &gt; <span class="number">30</span>] = <span class="number">30</span></span><br><span class="line">a[a &lt; <span class="number">10</span>] = <span class="number">10</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在NumPy数组中找到top-n数值的位置？（在给定数组a中找到top-5最大值的位置）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.uniform(<span class="number">1</span>,<span class="number">50</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sort(np.unique(a))[<span class="number">-5</span>:]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何逐行计算数组中所有值的数量？（逐行计算唯一值的数量）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">arr = np.random.randint(<span class="number">1</span>,<span class="number">11</span>,size=(<span class="number">6</span>, <span class="number">10</span>))</span><br><span class="line"><span class="comment">#&gt; array([[ 9, 9, 4, 8, 8, 1, 5, 3, 6, 3],</span></span><br><span class="line"><span class="comment">#&gt; [ 3, 3, 2, 1, 9, 5, 1, 10, 7, 3],</span></span><br><span class="line"><span class="comment">#&gt; [ 5, 2, 6, 4, 5, 5, 4, 8, 2, 2],</span></span><br><span class="line"><span class="comment">#&gt; [ 8, 8, 1, 3, 10, 10, 4, 3, 6, 9],</span></span><br><span class="line"><span class="comment">#&gt; [ 2, 1, 8, 7, 3, 1, 9, 3, 6, 2],</span></span><br><span class="line"><span class="comment">#&gt; [ 9, 2, 6, 5, 3, 9, 4, 6, 1, 10]])</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; [[1, 0, 2, 1, 1, 1, 0, 2, 2, 0],</span></span><br><span class="line"><span class="comment">#&gt; [2, 1, 3, 0, 1, 0, 1, 0, 1, 1],</span></span><br><span class="line"><span class="comment">#&gt; [0, 3, 0, 2, 3, 1, 0, 1, 0, 0],</span></span><br><span class="line"><span class="comment">#&gt; [1, 0, 2, 1, 0, 1, 0, 2, 1, 2],</span></span><br><span class="line"><span class="comment">#&gt; [2, 2, 2, 0, 0, 1, 1, 1, 1, 0],</span></span><br><span class="line"><span class="comment">#&gt; [1, 1, 1, 1, 1, 2, 0, 0, 2, 1]]</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">counts_of_all_values_rowwise</span><span class="params">(arr2d)</span>:</span></span><br><span class="line">    <span class="comment"># Unique values and its counts row wise</span></span><br><span class="line">    num_counts_array = [np.unique(row, return_counts=<span class="keyword">True</span>) <span class="keyword">for</span> row <span class="keyword">in</span> arr2d]</span><br><span class="line">    <span class="comment"># Counts of all values row wise</span></span><br><span class="line">    <span class="keyword">return</span>([[int(b[a==i]) <span class="keyword">if</span> i <span class="keyword">in</span> a <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> np.unique(arr2d)] <span class="keyword">for</span> a, b <span class="keyword">in</span> num_counts_array])</span><br><span class="line"><span class="keyword">print</span> counts_of_all_values_rowwise(arr)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何将array_of_arrays转换为平面1维数组？（将array_of_arrays转换为平面线性1维数组）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">arr1 = np.arange(<span class="number">3</span>)</span><br><span class="line">arr2 = np.arange(<span class="number">3</span>,<span class="number">7</span>)</span><br><span class="line">arr3 = np.arange(<span class="number">7</span>,<span class="number">10</span>)</span><br><span class="line">array_of_arrays = np.array([arr1, arr2, arr3])</span><br><span class="line">array_of_arrays<span class="comment">#&gt; array([array([0, 1, 2]), array([3, 4, 5, 6]), array([7, 8, 9])], dtype=object)</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.concatenate(array_of_arrays)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何为NumPy数组生成one-hot编码？（计算one-hot编码）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">101</span>)</span><br><span class="line">arr = np.random.randint(<span class="number">1</span>,<span class="number">4</span>, size=<span class="number">6</span>)</span><br><span class="line">arr</span><br><span class="line"><span class="comment">#&gt; array([2, 3, 2, 2, 2, 1])</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([[ 0., 1., 0.],</span></span><br><span class="line"><span class="comment">#&gt; [ 0., 0., 1.],</span></span><br><span class="line"><span class="comment">#&gt; [ 0., 1., 0.],</span></span><br><span class="line"><span class="comment">#&gt; [ 0., 1., 0.],</span></span><br><span class="line"><span class="comment">#&gt; [ 0., 1., 0.],</span></span><br><span class="line"><span class="comment">#&gt; [ 1., 0., 0.]])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">one_hot_encodings</span><span class="params">(arr)</span>:</span></span><br><span class="line">    uniqs = np.unique(arr)</span><br><span class="line">    out = np.zeros((arr.shape[<span class="number">0</span>], uniqs.shape[<span class="number">0</span>]))</span><br><span class="line">    <span class="keyword">for</span> i,k <span class="keyword">in</span> enumerate(arr):</span><br><span class="line">        out[i, np.where(uniqs==k)] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line">one_hot_encodings(arr)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何创建由类别变量分组确定的一维数值？（创建由类别变量分组的行数。使用以下来自iris species的样本作为输入）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">species = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'str'</span>, usecols=<span class="number">4</span>)</span><br><span class="line">species_small = np.sort(np.random.choice(species, size=<span class="number">20</span>))</span><br><span class="line">species_small</span><br><span class="line"><span class="comment">#&gt; array(['Iris-setosa', 'Iris-setosa', 'Iris-setosa', 'Iris-setosa',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-setosa', 'Iris-setosa', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-versicolor', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-versicolor', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-virginica', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-virginica', 'Iris-virginica', 'Iris-virginica'],</span></span><br><span class="line"><span class="comment">#&gt; dtype='&lt;U15')</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; [0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 6, 7]</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[i <span class="keyword">for</span> val <span class="keyword">in</span> np.unique(species_small) <span class="keyword">for</span> i, grp <span class="keyword">in</span> enumerate(species_small[species_small==val])]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何基于给定的类别变量创建分组id？（基于给定的类别变量创建分组id。使用以下来自iris species的样本作为输入）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">species = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'str'</span>, usecols=<span class="number">4</span>)</span><br><span class="line">species_small = np.sort(np.random.choice(species, size=<span class="number">20</span>))</span><br><span class="line">species_small</span><br><span class="line"><span class="comment">#&gt; array(['Iris-setosa', 'Iris-setosa', 'Iris-setosa', 'Iris-setosa',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-setosa', 'Iris-setosa', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-versicolor', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-versicolor', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-virginica', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment">#&gt; 'Iris-virginica', 'Iris-virginica', 'Iris-virginica'],</span></span><br><span class="line"><span class="comment">#&gt; dtype='&lt;U15')</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2]</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">species = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'str'</span>, usecols=<span class="number">4</span>)</span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">species_small = np.sort(np.random.choice(species, size=<span class="number">20</span>))</span><br><span class="line">species_small</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何使用NumPy对数组中的项进行排序？（为给定的数值数组a创建排序）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">a = np.random.randint(<span class="number">20</span>, size=<span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#&gt; [ 9 4 15 0 17 16 17 8 9 0]</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[4 2 6 0 8 7 9 3 5 1]</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.argsort().argsort()</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何使用NumPy对多维数组中的项进行排序？（给出一个数值数组a，创建一个形态相同的排序数组）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">a = np.random.randint(<span class="number">20</span>, size=[<span class="number">2</span>,<span class="number">5</span>])</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#&gt; [[ 9 4 15 0 17]</span></span><br><span class="line"><span class="comment">#&gt; [16 17 8 9 0]]</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; [[4 2 6 0 8]</span></span><br><span class="line"><span class="comment">#&gt; [7 9 3 5 1]]</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.ravel().argsort().argsort().reshape(a.shape)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在2维NumPy数组中找到每一行的最大值？（在给定数组中找到每一行的最大值）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.randint(<span class="number">1</span>,<span class="number">10</span>, [<span class="number">5</span>,<span class="number">3</span>])</span><br><span class="line"><span class="comment">#&gt; array([[9, 9, 4],</span></span><br><span class="line"><span class="comment">#&gt; [8, 8, 1],</span></span><br><span class="line"><span class="comment">#&gt; [5, 3, 6],</span></span><br><span class="line"><span class="comment">#&gt; [3, 3, 3],</span></span><br><span class="line"><span class="comment">#&gt; [2, 1, 9]])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.max(a, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何计算2维NumPy数组每一行的最小值除以最大值的结果？（给定一个2维NumPy数组，计算每一行的min-by-max）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.randint(<span class="number">1</span>,<span class="number">10</span>, [<span class="number">5</span>,<span class="number">3</span>])</span><br><span class="line">a</span><br><span class="line"><span class="comment">#&gt; array([[9, 9, 4],</span></span><br><span class="line"><span class="comment">#&gt; [8, 8, 1],</span></span><br><span class="line"><span class="comment">#&gt; [5, 3, 6],</span></span><br><span class="line"><span class="comment">#&gt; [3, 3, 3],</span></span><br><span class="line"><span class="comment">#&gt; [2, 1, 9]])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.apply_along_axis(<span class="keyword">lambda</span> x: (np.min(x) * <span class="number">1.0</span>)/np.max(x), arr=a, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在NumPy数组中找到重复条目？（在给定的NumPy数组中找到重复条目（从第二次出现开始），并将其标记为True。第一次出现的条目需要标记为False）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.randint(<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line">print(<span class="string">'Array: '</span>, a)</span><br><span class="line"><span class="comment">#&gt; Array: [0 0 3 0 2 4 2 2 2 2]</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; [False True False True False False True True True True]</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">out = np.full(a.shape[<span class="number">0</span>], <span class="keyword">True</span>)</span><br><span class="line">unique_positions = np.unique(a, return_index=<span class="keyword">True</span>)[<span class="number">1</span>]</span><br><span class="line">out[unique_positions] = <span class="keyword">False</span></span><br><span class="line"><span class="keyword">print</span> out</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何找到NumPy的分组平均值？（在2维NumPy数组的类别列中找到数值的平均值）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span>;</span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; [[b'Iris-setosa', 3.418],</span></span><br><span class="line"><span class="comment">#&gt; [b'Iris-versicolor', 2.770],</span></span><br><span class="line"><span class="comment">#&gt; [b'Iris-virginica', 2.974]]</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">numeric_column = iris[:, <span class="number">1</span>].astype(<span class="string">'float'</span>)  <span class="comment"># sepalwidth</span></span><br><span class="line">grouping_column = iris[:, <span class="number">4</span>]  <span class="comment"># species</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List comprehension version</span></span><br><span class="line"><span class="keyword">print</span> [[group_val, numeric_column[grouping_column==group_val].mean()] <span class="keyword">for</span> group_val <span class="keyword">in</span> np.unique(grouping_column)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># For Loop version</span></span><br><span class="line">output = []</span><br><span class="line"><span class="keyword">for</span> group_val <span class="keyword">in</span> np.unique(grouping_column):</span><br><span class="line">    output.append([group_val, numeric_column[grouping_column==group_val].mean()])</span><br><span class="line"><span class="keyword">print</span> output</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何将PIL图像转换成NumPy数组？（从以下URL中导入图像，并将其转换成NumPy数组）。<br><a href="https://upload.wikimedia.org/wikipedia/commons/8/8b/Denali_Mt_McKinley.jpg" target="_blank" rel="noopener">https://upload.wikimedia.org/wikipedia/commons/8/8b/Denali_Mt_McKinley.jpg</a><br>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> PIL, requests</span><br><span class="line"><span class="comment"># Import image from URL</span></span><br><span class="line">URL = <span class="string">'https://upload.wikimedia.org/wikipedia/commons/8/8b/Denali_Mt_McKinley.jpg'</span></span><br><span class="line">response = requests.get(URL)</span><br><span class="line"><span class="comment"># Read it as Image</span></span><br><span class="line">I = Image.open(BytesIO(response.content))</span><br><span class="line"><span class="comment"># Optionally resize</span></span><br><span class="line">I = I.resize([<span class="number">150</span>,<span class="number">150</span>])</span><br><span class="line"><span class="comment"># Convert to numpy array</span></span><br><span class="line">arr = np.asarray(I)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何删除NumPy数组中所有的缺失值？（从1维NumPy数组中删除所有的nan值）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,np.nan,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,np.nan])</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([ 1., 2., 3., 5., 6., 7.])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[~np.isnan(a)]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何计算两个数组之间的欧几里得距离？（计算两个数组a和b之间的欧几里得距离）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.sqrt(np.sum((a-b) ** <span class="number">2</span>))</span><br><span class="line">或者</span><br><span class="line">np.linalg.norm(a-b)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在一个1维数组中找到所有的局部极大值（peak）？（在1维数组a中找到所有的peak，peak指一个数字比两侧的数字都大）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; array([2, 5])</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, a.shape[<span class="number">0</span>]<span class="number">-1</span>) <span class="keyword">if</span> a[i] &gt; a[i<span class="number">-1</span>] <span class="keyword">and</span> a[i] &gt; a[i+<span class="number">1</span>]])</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何从2维数组中减去1维数组，从2维数组的每一行分别减去1维数组的每一项？（从2维数组a_2d中减去1维数组b_1d，即从a_2d的每一行分别减去b_1d）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a_2d = np.array([[<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>]])</span><br><span class="line">b_1d = np.array([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; [[2 2 2]</span></span><br><span class="line"><span class="comment">#&gt; [2 2 2]</span></span><br><span class="line"><span class="comment">#&gt; [2 2 2]]</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a_2d-b_1d</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在数组中找出某个项的第n个重复索引？（找到数组x中数字1的第5个重复索引）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[i <span class="keyword">for</span> i, v <span class="keyword">in</span> enumerate(x) <span class="keyword">if</span> v == <span class="number">1</span>][n<span class="number">-1</span>]</span><br><span class="line">或者</span><br><span class="line">np.where(x == <span class="number">1</span>)[<span class="number">0</span>][n<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何将NumPy的datetime64对象（object）转换为datetime的datetime对象？（将NumPy的datetime64对象（object）转换为datetime的datetime对象）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dt64 = np.datetime64(<span class="string">'2018-02-25 22:10:10'</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">datetime.utcfromtimestamp((dt64 - np.datetime64(<span class="string">'1970-01-01T00:00:00Z'</span>)) / np.timedelta64(<span class="number">1</span>, <span class="string">'s'</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何计算NumPy数组的移动平均数？（给定1维数组，计算window size为3的移动平均数）。<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">Z = np.random.randint(<span class="number">10</span>, size=<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">moving_average</span><span class="params">(a, n=<span class="number">3</span>)</span>:</span></span><br><span class="line">    ret = np.cumsum(a, dtype=float)</span><br><span class="line">    <span class="keyword">print</span> ret[n:]</span><br><span class="line">    ret[n:] = ret[n:] - ret[:-n]</span><br><span class="line">    <span class="keyword">return</span> ret[n - <span class="number">1</span>:] / n</span><br><span class="line"><span class="keyword">print</span> moving_average(Z)</span><br><span class="line">或者</span><br><span class="line">np.convolve(Z, np.ones(<span class="number">3</span>)/<span class="number">3</span>, mode=<span class="string">'valid'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>给定起始数字、length和步长，如何创建一个NumPy数组序列？（从5开始，创建一个length为10的NumPy数组，相邻数字的差是3）。<br>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.arange(<span class="number">10</span>) * <span class="number">3</span> + <span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如何在不规则NumPy日期序列中填充缺失日期？（给定一个非连续日期序列的数组，通过填充缺失的日期，使其变成连续的日期序列）。<br>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.arange(np.datetime64(<span class="string">'2018-02-01'</span>), np.datetime64(<span class="string">'2018-02-25'</span>), <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何基于给定的1维数组创建 strides？（给定1维数组arr，使用strides生成一个2维矩阵，其中window length等于4，strides等于2）。<br>[[0,1,2,3], [2,3,4,5], [4,5,6,7]..]<br>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">15</span>)</span><br><span class="line">arr</span><br><span class="line"><span class="comment">#&gt; array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<p>期望输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&gt; [[ 0 1 2 3]</span></span><br><span class="line"><span class="comment">#&gt; [ 2 3 4 5]</span></span><br><span class="line"><span class="comment">#&gt; [ 4 5 6 7]</span></span><br><span class="line"><span class="comment">#&gt; [ 6 7 8 9]</span></span><br><span class="line"><span class="comment">#&gt; [ 8 9 10 11]</span></span><br><span class="line"><span class="comment">#&gt; [10 11 12 13]]</span></span><br></pre></td></tr></table></figure>
<p>答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_strides</span><span class="params">(arr, stride_len=<span class="number">5</span>, window_len=<span class="number">5</span>)</span>:</span></span><br><span class="line">    n_strides = ((a.size-window_len)//stride_len) + <span class="number">1</span></span><br><span class="line">    <span class="comment"># return np.array([a[s:(s+window_len)] for s in np.arange(0, a.size, stride_len)[:n_strides]])</span></span><br><span class="line">    <span class="keyword">return</span> np.array([a[s:(s+window_len)] <span class="keyword">for</span> s <span class="keyword">in</span> np.arange(<span class="number">0</span>, n_strides*stride_len, stride_len)])</span><br><span class="line">print(gen_strides(np.arange(<span class="number">15</span>), stride_len=<span class="number">2</span>, window_len=<span class="number">4</span>))</span><br></pre></td></tr></table></figure>
</li>
</ol>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/posts/">Writing</a></li>
         
          <li><a href="http://github.com/sergodeeva">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://whitelok.github.io/2018/04/13/python-numpy-base-test/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&text=Python NumPy笔试测试70题"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&is_video=false&description=Python NumPy笔试测试70题"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Python NumPy笔试测试70题&body=Check out this article: http://whitelok.github.io/2018/04/13/python-numpy-base-test/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&title=Python NumPy笔试测试70题"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://whitelok.github.io/2018/04/13/python-numpy-base-test/&name=Python NumPy笔试测试70题&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 Karl Luo
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/posts/">Writing</a></li>
         
          <li><a href="http://github.com/sergodeeva">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-37473492-6', 'auto');
        ga('send', 'pageview');
    </script>



